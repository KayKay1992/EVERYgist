IMPLEMENTING ROLE BASED PRIVATE ROUTES

## Role-Based Private Routes (Frontend)

Goal
Restrict certain pages (like the admin dashboard and post editor) so only authenticated users with the correct role (e.g. `admin`) can access them.

Key File
- `frontend/gist_hub/src/routes/PrivateRoutes.jsx`

How It Works (Step by Step)
1. PrivateRoutes receives a prop: `allowedRoles` (array), e.g. `["admin"]`.
2. It reads `user` and `loading` from `UserContext`.
3. While `loading` is true (token/profile still being checked), it renders a temporary loading placeholder (`Loading...`).
4. If there is no `user` after loading finishes → redirect to the public home page (`Navigate to "/"`).
5. If `user.role` is not in `allowedRoles` → also redirect to home (prevents unauthorized viewing).
6. If all checks pass → render `<Outlet />` which displays the nested protected routes.

Route Setup
- In `App.jsx`, the protected routes are wrapped:
	```jsx
	<Route element={<PrivateRoutes allowedRoles={["admin"]} />}> 
		<Route path="/admin/dashboard" element={<Dashboard />} />
		<Route path="/admin/posts" element={<BlogPosts />} />
		<Route path="/admin/create" element={<BlogPostEditor />} />
		<Route path="/admin/edit/:postSlug" element={<BlogPostEditor isEdit={true} />} />
		<Route path="/admin/comments" element={<Comments />} />
	</Route>
	```
- Any attempt to visit these URLs runs the checks inside `PrivateRoutes` first.

Why Use `<Outlet />`
- `<Outlet />` is a placeholder for child routes; it lets you apply one guard component around multiple nested routes without repeating logic for each.

User Source
- `UserContext` provides `user.role` once login occurs and profile is fetched.
- If the user logs out (context cleared), revisiting a protected route will trigger a redirect.

Benefits
- Centralized access control logic.
- Easy to add new roles: just pass a different `allowedRoles` array.
- Prevents unauthorized UI flashes by waiting for loading to finish.

Extending Further
- Replace the simple loading text with a spinner component.
- Show a dedicated “403 / Not Authorized” page instead of redirecting.
- Support multiple roles per section: e.g. `["admin", "editor"]`.
- Add route-level analytics/logging inside the guard.

Security Note
- Client-side checks improve UX but don’t replace backend authorization. Ensure server endpoints also verify user role before returning sensitive data.
