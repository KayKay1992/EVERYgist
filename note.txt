Profile Image Upload Component

## Profile Image Upload — Step-by-step Implementation

1) Frontend UI (picker + preview)
- File: `frontend/gist_hub/src/components/Inputs/ProfilePhotoSelector.jsx`
- You built a small, reusable component that:
	- Opens the OS file picker (accepts `image/*`).
	- Stores the selected File in parent state via `setImage(file)`.
	- Generates a temporary preview using `URL.createObjectURL(file)` so the user sees the selected image before uploading.
	- Lets users remove the selected image (clears both preview and File state).

2) Hooked it into SignUp
- File: `frontend/gist_hub/src/components/Auth/SignUp.jsx`
- Added `<ProfilePhotoSelector image={profilePic} setImage={setProfilePic} />` above the form fields.
- On submit (`handleSignUp`):
	- Validates full name, email, password.
	- If `profilePic` is present, uploads the file first to get a URL.
	- Sends the signup payload along with `profileImageUrl` to `/api/auth/register`.
	- Saves the returned token, updates `UserContext`, and navigates based on role.

3) Upload helper (FormData + Axios)
- File: `frontend/gist_hub/src/utils/uploadImage.js`
- Creates `FormData` and appends the File under the key `image` (must match backend middleware).
- Posts to `BASE_URL + /api/auth/upload-image` using Axios.
- Important: Sends `multipart/form-data` headers so the server parses the file correctly.
- Added debug logs to verify the File object and FormData entries during testing.

4) Backend route and middleware
- Route: `backend/routes/authRoutes.js` → `POST /api/auth/upload-image`
- Middleware: `backend/middleware/uploadMiddleware.js` (multer)
- What it does:
	- Uses `multer.diskStorage` to save files into `backend/uploads/`.
	- Uses a filename like `${Date.now()}-originalName` to avoid collisions.
	- Restricts uploads to image mimetypes: jpeg/jpg/png/gif.
	- Returns a public `imageUrl` like `http://localhost:8000/uploads/<filename>`.
- Fix applied: switched the destination to an absolute path with `path.join(__dirname, '../uploads/')` so it works regardless of CWD.

5) Serving uploaded files
- In `backend/server.js`, the `/uploads` folder is exposed via `express.static`, so the returned `imageUrl` is immediately viewable in the browser.

6) Debugging the errors you fixed
- 500 → 400 progression:
	- 500 (Internal Server Error) was resolved by fixing the multer destination to an absolute path.
	- 400 (Bad Request: No file uploaded) was due to FormData/headers; fixed by ensuring Axios sends `multipart/form-data` and that the key name is exactly `image`.
- Typo fix: `constresponse` → `const response` in `uploadImage.js`.
- Missing import: added `import uploadImage from "../../utils/uploadImage";` in `SignUp.jsx`.
- Extra polish: added console logs to confirm the File and FormData contents during troubleshooting.

7) Final data flow
- User selects a file → `ProfilePhotoSelector` updates `profilePic`.
- Submit → `uploadImage(profilePic)` → server stores file → returns `imageUrl`.
- Signup request includes `{ profileImageUrl: imageUrl }` → backend saves it to the user.
- App stores token in localStorage, updates context, and navigates to the correct page.

8) Next enhancements (optional)
- Add upload progress via Axios `onUploadProgress` and show a progress bar.
- Add client-side image size/type validation and compression.
- Limit file size on backend and return friendly errors.
- Move image uploads to a dedicated storage (S3/Cloudinary) for production.